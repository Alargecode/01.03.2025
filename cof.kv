#:kivy 2.0.0
# Buradan bütün butonların background değiştirilebiliyor.
<MyButton@Button>:
    background_color: 0,0,0,0.0

<ScreenOne>:
    FloatLayout:
        id: first_layout
        size: root.width, root.height


        Image:
            source: "mini_logo.png"
            size_hint: (1/3, 1/3)
            pos_hint: {"center_x": 0.5, "center_y": 0.92}
            #pos: 100, 100

        Label:
            id: first_sample_header
            text: "Sample"
            color: (0,0,0,1)
            pos_hint: {"center_x": 0.2, "center_y": 0.8}


        Label:
            id: second_sample_header
            text: "Sample"
            color: (0,0,0,1)
            pos_hint: {"center_x": 0.8, "center_y": 0.8}

        Image:
            source: "PNG/button.png"
            size_hint: (2, 2)
            pos_hint: {'center_x': 0.4, "center_y": 0.4}
            opacity: 1

        MyButton:
            id: test
            text: "Test"
            pos_hint: {'center_x': 0.4, "center_y": 0.4}
            size_hint: (1/6, 1/8)
            on_press:
                root.btn_text()
                root.manager.transition.direction = "left"
                root.manager.transition.duration = 0.5
                root.manager.current = "screen_two"
        

        Image:
            source: "PNG/orange_button.png"
            size_hint: (3, 3)
            pos_hint: {'center_x': 0.6, "center_y": 0.4}
            opacity: 1
        MyButton:
            id: calibration
            text: "Calibration"
            color: 0, 0, 0, 1
            pos_hint: {'center_x': 0.6, "center_y": 0.4}
            size_hint: (1/6, 1/8)
            on_press:
                root.manager.transition.direction = "left"
                root.manager.transition.duration = 0.5
                root.manager.current = "screen_five"





        TextInput:
            write_tab: False
            multiline: False
            id: first_name
            hint_text: 'Sample Name'
            pos_hint: {'center_x': 0.2, "center_y": 0.75}
            size_hint: 0.2, 0.06

        TextInput:
            write_tab: False
            multiline: False
            id: first_width
            hint_text: 'Width(mm)'
            pos_hint: {'center_x': 0.2, "center_y": 0.68}
            size_hint: 0.2, 0.06

        TextInput:
            write_tab: False
            multiline: False
            id: first_height
            hint_text: 'Height(mm)'
            pos_hint: {'center_x': 0.2, "center_y": 0.61}
            size_hint: 0.2, 0.06

        TextInput:
            write_tab: False
            multiline: False
            id: first_age
            hint_text: 'Age(month)'
            pos_hint: {'center_x': 0.2, "center_y": 0.54}
            size_hint: 0.2, 0.06

        TextInput:
            write_tab: False
            multiline: False
            id: second_name
            hint_text: 'Sample Name'
            pos_hint: {'center_x': 0.8, "center_y": 0.75}
            size_hint: (0.2, 0.06)  if switch.active else (0,0)

        TextInput:
            write_tab: False
            multiline: False
            id: second_width
            hint_text: 'Width(mm)'
            pos_hint: {'center_x': 0.8, "center_y": 0.68}
            size_hint: (0.2, 0.06)  if switch.active else (0,0)

        TextInput:
            write_tab: False
            multiline: False
            id: second_height
            hint_text: 'Height(mm)'
            pos_hint: {'center_x': 0.8, "center_y": 0.61}
            size_hint: (0.2, 0.06)  if switch.active else (0,0)

        TextInput:
            write_tab: False
            multiline: False
            id: second_age
            hint_text: 'Age(month)'
            pos_hint: {'center_x': 0.8, "center_y": 0.54}
            size_hint: (0.2, 0.06)  if switch.active else (0,0)

        TextInput:
            write_tab: False
            multiline: False
            id: company_name
            hint_text: 'Company Name'
            pos_hint: {'center_x': 0.5, "center_y": 0.75}
            size_hint: (0.2, 0.06)

        TextInput:
            write_tab: False
            multiline: False
            id: operator_name
            hint_text: 'Operator Name'
            pos_hint: {'center_x': 0.5, "center_y": 0.68}
            size_hint: (0.2, 0.06)
	



        Switch:
            id: switch
            pos_hint: {'center_x': 0.8, "center_y": 0.45}
            size_hint: 0.2, 0.06
            
        Image:
            source: "close.png"
            size_hint: (1/6, 1/6)
            pos_hint: {"center_x": 0.8, "center_y": 0.15}
        
        Label:
            id: shutdown
            text: "Shutdown"
            color: (0,0,0,1)
            pos_hint: {"center_x": 0.8, "center_y": 0.05}
            font_size: 18
            
        MyButton:
            text: ""
            pos_hint: {'center_x': 0.8, "center_y": 0.15}
            size_hint: 0.11, 0.17
            on_press:
                on_press:root.shutdown()

<ScreenTwo>:
    FloatLayout:
        size: root.width, root.height

        Graph:
            id: graph
            max: 1000
            xlabel: "Time (second)"
            ylabel: "Force (mN)"
            x_ticks_minor:1
            y_ticks_minor:10
            y_grid_label:True
            x_grid_label:True
            padding:5
            x_grid:True
            y_grid:True
            xmin:0
            xmax:1
            ymin:0
            ymax:1
            pos: 0, 0
            size_hint_y: 0.8
            size_hint_x: 0.98
            border_color: (0,0,0,1)
            tick_color: (169/255,169/255,169/255,1)
            label_options: {'color': (0,0,0,1), "bold": True}

        Image:
            source: "PNG/button.png"
            size_hint: (2, 2)
            pos_hint: {'center_x': 0.36, "center_y": 0.9}
            opacity: 1

        MyButton:
            id: start
            text: "Start"
            pos_hint: {'center_x': 0.36, "center_y": 0.9}
            size_hint: (1/6.5, 1/8)
            on_press: root.start()

        Image:
            source: "PNG/red_button.png"
            size_hint: (2, 2)
            pos_hint: {'center_x': 0.54, "center_y": 0.9}
            opacity: 1
        MyButton:
            id: reset_pos
            text: "Reset Position"
            pos_hint: {'center_x': 0.54, "center_y": 0.9}
            size_hint: (1/6.5, 1/8)
            on_press: root.reset()
        

        Image:
            source: "PNG/yellow_button.png"
            size_hint: (2, 2)
            pos_hint: {'center_x': 0.72, "center_y": 0.9}
            opacity: 1
        MyButton:
            id: pre_page
            text: "Previous Page"
            pos_hint: {'center_x': 0.72, "center_y": 0.9}
            size_hint: (1/6.5, 1/8)
            on_press:
                root.manager.transition.direction = "right"
                root.manager.transition.duration = 0.5
                root.manager.current = "screen_one"
                root.stop()
        
        Image:
            source: "PNG/green_button.png"
            size_hint: (2, 2)
            pos_hint: {'center_x': 0.9, "center_y": 0.9}
            opacity: 1
        MyButton:
            id: btn
            text: "Results"
            pos_hint: {'center_x': 0.9, "center_y": 0.9}
            size_hint: (1/6.5, 1/8)
            on_press:
                root.save_graph()
                root.manager.transition.direction = "left"
                root.manager.transition.duration = 0.5
                root.manager.current = "screen_three"

        Label:
            id: distance
            markup: True
            text: "[b]Distance: [/b] "
            font_size: 20
            pos: -337, 175    
            color: 0, 0, 0, 1

        Label:
            id: dist_current
            font_size: 20
            text: "0.00"
            pos: -255, 175
            color: 0, 0, 0, 1
            
        Label:
            markup: True
            text: "[b]mm[/b]"
            font_size: 20
            pos: -200, 175
            color: 0, 0, 0, 1

        Label:
            id: val
            font_size: 20
            text: "0.00"
            pos: -255, 205
            color: 0, 0, 0, 1

        Label:
            id: force
            markup: True
            font_size: 20
            text: "[b]Force:[/b]"
            pos: -343, 205
            color: 0, 0, 0, 1

        Label:
            markup: True
            text: "[b]mN[/b]"
            font_size: 20
            pos: -200, 205
            color: 0, 0, 0, 1

<ScreenThree>:
    FloatLayout:
        size: root.width, root.height
        
        Image:
            source: "PNG/button.png"
            size_hint: (2, 2)
            pos_hint: {'center_x': 0.2, "center_y": 0.25}
            opacity: 1
        MyButton:
            id: calc_res
            text: "Calculate Results"
            pos_hint: {'center_x': 0.2, 'center_y': 0.25}
            size_hint: (1/4,1/8)
            on_press: root.update_results()

        Image:
            source: "PNG/green_button.png"
            size_hint: (2, 2)
            pos_hint: {'center_x': 0.65, "center_y": 0.85}
            opacity: 1
        MyButton:
            id: take_symbol
            text: "Choose Logo"
            pos_hint: {'center_x': 0.65, "center_y": 0.85}
            size_hint: (1/4, 1/8)
            on_press:
                on_release: root.open_file_dialog()

        Image:
            source: "PNG/report.png"
            size_hint: (1/2, 1/2)
            pos_hint: {'center_x': 0.75, "center_y": 0.5}
            opacity: 1
        MyButton:
            id: create_pdf
            pos_hint: {'center_x': 0.75, "center_y": 0.5}
            size_hint: (1/4, 1/3)
            on_press: root.createPDF()
        Label:
            id: create_pdf_label
            text: "Create Report"
            pos_hint: {"center_x": 0.75, "center_y": 0.3}
            color: 0,0,0,1

        Image:
            source: "PNG/yellow_button.png"
            size_hint: (2, 2)
            pos_hint: {'center_x': 0.75, "center_y": 0.15}
            opacity: 1
        MyButton:
            id: pre_page
            text: "Previous Page"
            pos_hint: {'center_x': 0.75, "center_y": 0.15}
            size_hint: (1/4, 1/8)
            on_press:
                root.manager.transition.direction = "right"
                root.manager.transition.duration = 0.5
                root.manager.current = "screen_two"

        Image:
            source: "PNG/red_button.png"
            size_hint: (2, 2)
            pos_hint: {'center_x': 0.85, "center_y": 0.85}
            opacity: 1
        MyButton:
            id: whole_save
            text: "Yedekleme"
            pos_hint: {'center_x': 0.85, "center_y": 0.85}
            size_hint: (1/4, 1/8)
            on_press:
                root.whole_save()


        Label:
            markup: True
            id: max_static
            text: "[b]Maximum Static Friction Coefficient:[/b]"
            color: (0,0,0,1)
            pos_hint: {"center_x": 0.23, "center_y": 0.8}
            halign: "left"

        Label:
            id: l_max_static
            text: "0.00"
            pos: (15, 143)
            color: 0,0,0,1

        Label:
            id: mean_static
            text: "Mean Static Friction Coefficient: "
            color: (0,0,0,1)
            pos_hint: {"center_x": 0.23, "center_y": 0.7}
            halign: "left"

        Label:
            id: l_mean_static
            text: "0.00"
            pos: 15, 95
            color: 0,0,0,1

        Label:
            id: max_dynamic
            text: "Maximum Dynamic Friction Coefficient:"
            color: (0,0,0,1)
            pos_hint: {"center_x": 0.24, "center_y": 0.5}
            halign: "left"

        Label:
            id: l_max_dynamic
            text: "0.00"
            pos: 15, 0
            color: 0,0,0,1

        Label:
            markup: True
            id: mean_dynamic
            text: "[b]Mean Dynamic Friction Coefficient:[/b]"
            color: (0,0,0,1)
            pos_hint: {"center_x": 0.24, "center_y": 0.4}
            halign: "left"

        Label:
            id: l_mean_dynamic
            text: "0.00"
            pos: 15, -48
            color: 0, 0, 0, 1
        Label:
            id: date
            text: "Date: "
            color: (0,0,0,1)
            pos_hint: {"center_x": 0.1, "center_y": 0.1}
            halign: "left"
            

        Label:
            id: label_date
            text: root.date_text
            color: (0,0,0,1)
            pos_hint: {"center_x": 0.18, "center_y": 0.1}
            halign: "left"


<ScreenFive>:
    FloatLayout:
        size: root.width, root.height

        Label:
            id: error
            text: "Error! (Use only numbers) (use . not ,)"
            pos: 0, 230
            color: 0, 0, 0, 0

        Image:
            source: "PNG/yellow_button.png"
            size_hint: (2, 2)
            pos_hint: {'center_x': 0.8, "center_y": 0.2}
            opacity: 1
        MyButton:
            id: previous_page
            text: "Previous Page"
            pos_hint: {'center_x': 0.8, "center_y": 0.2}
            size_hint: (1/3.5, 1/8)
            on_press:
                root.clean_errors()
                root.manager.transition.direction = "right"
                root.manager.transition.duration = 0.5
                root.manager.current = "screen_one"

        Image:
            source: "PNG/button.png"
            size_hint: (2, 2)
            pos_hint: {'center_x': 0.8, "center_y": 0.4}
            opacity: 1
        MyButton:
            id: save
            text: "Save"
            pos_hint: {'center_x': 0.8, "center_y": 0.4}
            size_hint: (1/3.5, 1/8)
            on_press:
                root.save_for_good()


        Image:
            source: "PNG/red_button.png"
            size_hint: (2, 2)
            pos_hint: {'center_x': 0.2, "center_y": 0.4}
            opacity: 1
        MyButton:
            id: reset_factory
            color: 0,0,0,1
            text: "Reset\nFactory Settings"
            halign: 'center'
            pos_hint: {'center_x': 0.2, "center_y": 0.4}
            size_hint: (1/3.5, 1/8)
            on_press:
                root.reset_to_factory()
        
        Spinner:
            id: language
            text: "Change Language"
            pos_hint: {'center_x':0.2, "center_y":0.2}
            size_hint: (1/5, 1/8)
            background_color: (0,1,0,0.9)
            values: ['English', 'Turkish', 'Russian']
            on_text: root.language_change(language.text)
            

        TextInput:
            write_tab: False
            multiline: False
            id: normal_force_text
            hint_text: 'Normal Mass(gr)'
            pos_hint: {'center_x': 0.2, "center_y": 0.84}
            font_size: 10
            size_hint: 1/7, 0.06

        TextInput:
            write_tab: False
            multiline: False
            id: calib_text
            hint_text: 'Force Calibration'
            pos_hint: {'center_x': 0.2, "center_y": 0.76}
            font_size: 10
            size_hint: 1/7, 0.06

        TextInput:
            write_tab: False
            multiline: False
            id: test_speed_text
            hint_text: 'Test Speed (mm/min)'
            pos_hint: {'center_x': 0.2, "center_y": 0.68}
            font_size: 10
            size_hint: 1/7, 0.06
                
        TextInput:
            write_tab: False
            multiline: False
            id: test_distance_text
            hint_text: 'Test Distance (mm)'
            pos_hint: {'center_x': 0.2, "center_y": 0.6}
            font_size: 10
            size_hint: 1/7, 0.06


        Label:
            id: normal_force_label
            text: "Normal Mass:"
            color: (0,0,0,1)
            pos_hint: {"center_x": 0.5, "center_y": 0.84}
            halign: "left"

        Label:
            id: normal_force
            color: (0,0,0,1)
            pos_hint: {"center_x": 0.8, "center_y": 0.84}
            halign: "left"

        Label:
            id: calib_label
            text: "Force Calibration:"
            color: (0,0,0,1)
            pos_hint: {"center_x": 0.5, "center_y": 0.76}
            halign: "left"

        Label:
            id: calib
            color: (0,0,0,1)
            pos_hint: {"center_x": 0.8, "center_y": 0.76}
            halign: "left"

        Label:
            id: test_speed_label
            text: "Test Speed:"
            color: (0,0,0,1)
            pos_hint: {"center_x": 0.5, "center_y": 0.68}
            halign: "left"

        Label:
            id: test_speed
            color: (0,0,0,1)
            pos_hint: {"center_x": 0.8, "center_y": 0.68}
            halign: "left"

        Label:
            id: test_distance_label
            text: "Test Distance:"
            color: (0,0,0,1)
            pos_hint: {"center_x": 0.5, "center_y": 0.6}
            halign: "left"

        Label:
            id: test_distance
            color: (0,0,0,1)
            pos_hint: {"center_x": 0.8, "center_y": 0.6}
            halign: "left"

<TarePop>:
    Label:
        text: "Tarred"
        size_hint: 0.6, 0.2
        pos_hint: {"x":0.2, "top":1}

<P>:
    Label:
        text: "PDF Created"
        size_hint: 0.6, 0.2
        pos_hint: {"x":0.2, "top":1}
